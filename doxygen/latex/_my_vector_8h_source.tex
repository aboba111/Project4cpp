\hypertarget{_my_vector_8h_source}{}\doxysection{My\+Vector.\+h}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#include <iterator>}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <stdexcept>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <exception>}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{7 \textcolor{keyword}{class }\mbox{\hyperlink{class_my_vector}{MyVector}} \{}
\DoxyCodeLine{8 \textcolor{keyword}{private}:}
\DoxyCodeLine{9     T *m\_elements = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{10     \textcolor{keywordtype}{size\_t} m\_size = 0;}
\DoxyCodeLine{11 \textcolor{keyword}{public}:}
\DoxyCodeLine{12     \textcolor{keyword}{class }\mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}} \{}
\DoxyCodeLine{13     \textcolor{keyword}{public}:}
\DoxyCodeLine{14         \textcolor{keyword}{using} iterator\_category = std::forward\_iterator\_tag;}
\DoxyCodeLine{15         \textcolor{keyword}{using} difference\_type = std::ptrdiff\_t;}
\DoxyCodeLine{16         \textcolor{keyword}{using} value\_type = T;}
\DoxyCodeLine{17         \textcolor{keyword}{using} pointer = T *;}
\DoxyCodeLine{18         \textcolor{keyword}{using} reference = T \&;}
\DoxyCodeLine{19         }
\DoxyCodeLine{20 }
\DoxyCodeLine{21     \textcolor{keyword}{private}:}
\DoxyCodeLine{22         pointer m\_ptr;}
\DoxyCodeLine{23 }
\DoxyCodeLine{24     \textcolor{keyword}{public}:}
\DoxyCodeLine{25         \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{26 }
\DoxyCodeLine{27         \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}}(pointer ptr) : m\_ptr(ptr) \{\}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29         \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}}(\mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}} \&\&other) \textcolor{keyword}{noexcept} \{}
\DoxyCodeLine{30             \textcolor{comment}{//if (m\_ptr != nullptr)}}
\DoxyCodeLine{31             \textcolor{comment}{//  delete m\_ptr;}}
\DoxyCodeLine{32             m\_ptr = std::exchange(other.m\_ptr, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{33         \}}
\DoxyCodeLine{34 }
\DoxyCodeLine{35         \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}}(\mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}} \textcolor{keyword}{const} \&iterator) \{}
\DoxyCodeLine{36             m\_ptr = iterator.m\_ptr;}
\DoxyCodeLine{37         \}}
\DoxyCodeLine{38 }
\DoxyCodeLine{39         reference operator*()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} *m\_ptr; \}}
\DoxyCodeLine{40 }
\DoxyCodeLine{41         pointer operator-\/>() \{ \textcolor{keywordflow}{return} m\_ptr; \}}
\DoxyCodeLine{42 }
\DoxyCodeLine{43         \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}} \&operator++() \{}
\DoxyCodeLine{44             m\_ptr++;}
\DoxyCodeLine{45             \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{46         \}}
\DoxyCodeLine{47 }
\DoxyCodeLine{48         \textcolor{keywordtype}{int} operator-\/(\textcolor{keyword}{const} \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}} \&other)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{49             \textcolor{keywordflow}{return} m\_ptr -\/ other.m\_ptr;}
\DoxyCodeLine{50         \}}
\DoxyCodeLine{51 }
\DoxyCodeLine{52         \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}} operator+(\textcolor{keywordtype}{int} i) \{}
\DoxyCodeLine{53             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}}(m\_ptr + i);}
\DoxyCodeLine{54         \}}
\DoxyCodeLine{55 }
\DoxyCodeLine{56         \textcolor{keyword}{const} \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}} operator++(\textcolor{keywordtype}{int}) \{}
\DoxyCodeLine{57             \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}} tmp = *\textcolor{keyword}{this};}
\DoxyCodeLine{58             ++(*this);}
\DoxyCodeLine{59             \textcolor{keywordflow}{return} tmp;}
\DoxyCodeLine{60         \}}
\DoxyCodeLine{61 }
\DoxyCodeLine{62         \textcolor{keyword}{friend} \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}} \&a, \textcolor{keyword}{const} \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}} \&b) \{ \textcolor{keywordflow}{return} a.m\_ptr == b.m\_ptr; \};}
\DoxyCodeLine{63 }
\DoxyCodeLine{64         \textcolor{keyword}{friend} \textcolor{keywordtype}{bool} operator!=(\textcolor{keyword}{const} \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}} \&a, \textcolor{keyword}{const} \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}} \&b) \{ \textcolor{keywordflow}{return} a.m\_ptr != b.m\_ptr; \};}
\DoxyCodeLine{65     \};}
\DoxyCodeLine{66 }
\DoxyCodeLine{67     \mbox{\hyperlink{class_my_vector_1_1_iterator}{Iterator}} begin() \{ \textcolor{keywordflow}{return} \&m\_elements[0]; \}}
\DoxyCodeLine{68 }
\DoxyCodeLine{69     Iterator end() \{ \textcolor{keywordflow}{return} \&m\_elements[m\_size]; \}}
\DoxyCodeLine{70 }
\DoxyCodeLine{71     \textcolor{keyword}{explicit} \mbox{\hyperlink{class_my_vector}{MyVector}}(\textcolor{keywordtype}{size\_t} size = 0) \{}
\DoxyCodeLine{72         resize(size);}
\DoxyCodeLine{73     \};}
\DoxyCodeLine{74 }
\DoxyCodeLine{75     \textcolor{comment}{// Copy}}
\DoxyCodeLine{76     \mbox{\hyperlink{class_my_vector}{MyVector}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_my_vector}{MyVector}} \&other) \{}
\DoxyCodeLine{77         resize(other.m\_size);}
\DoxyCodeLine{78         std::copy(other.m\_elements, other.m\_elements + other.m\_size, m\_elements);}
\DoxyCodeLine{79     \};}
\DoxyCodeLine{80 }
\DoxyCodeLine{81     \textcolor{comment}{//Move}}
\DoxyCodeLine{82     \mbox{\hyperlink{class_my_vector}{MyVector}}(\mbox{\hyperlink{class_my_vector}{MyVector<T>}} \&\&other) \textcolor{keyword}{noexcept} \{}
\DoxyCodeLine{83         \textcolor{keywordflow}{if} (\textcolor{keyword}{this} == \&other)}
\DoxyCodeLine{84             \textcolor{keywordflow}{return};}
\DoxyCodeLine{85 }
\DoxyCodeLine{86         \textcolor{keyword}{delete}[] m\_elements;}
\DoxyCodeLine{87         m\_elements = std::exchange(other.m\_elements, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{88         m\_size = std::exchange(other.m\_size, 0);}
\DoxyCodeLine{89     \}}
\DoxyCodeLine{90 }
\DoxyCodeLine{91     \textcolor{keywordtype}{void} push\_back(T val) \{}
\DoxyCodeLine{92         resize(m\_size + 1);}
\DoxyCodeLine{93         m\_elements[m\_size -\/ 1] = val;}
\DoxyCodeLine{94     \}}
\DoxyCodeLine{95 }
\DoxyCodeLine{96     \textcolor{keywordtype}{void} resize(\textcolor{keywordtype}{size\_t} newSize) \{}
\DoxyCodeLine{97         \textcolor{keywordflow}{if} (newSize < 0)}
\DoxyCodeLine{98             \textcolor{keywordflow}{throw} std::out\_of\_range(\textcolor{stringliteral}{"{}Size must be >= 0"{}});}
\DoxyCodeLine{99 }
\DoxyCodeLine{100         T *tmp = \textcolor{keyword}{new} T[newSize + 1];}
\DoxyCodeLine{101 }
\DoxyCodeLine{102         \textcolor{keywordflow}{if} (m\_elements != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{103             std::copy(m\_elements, m\_elements + std::min(m\_size, newSize), tmp);}
\DoxyCodeLine{104 }
\DoxyCodeLine{105         \textcolor{keyword}{delete}[] m\_elements;}
\DoxyCodeLine{106 }
\DoxyCodeLine{107         m\_elements = tmp;}
\DoxyCodeLine{108         m\_size = newSize;}
\DoxyCodeLine{109     \}}
\DoxyCodeLine{110 }
\DoxyCodeLine{111     Iterator find(T value) \{}
\DoxyCodeLine{112         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = begin(); it != end(); it++) \{}
\DoxyCodeLine{113             \textcolor{keywordflow}{if} (*it == value)}
\DoxyCodeLine{114                 \textcolor{keywordflow}{return} it;}
\DoxyCodeLine{115         \}}
\DoxyCodeLine{116         \textcolor{keywordflow}{return} end();}
\DoxyCodeLine{117     \}}
\DoxyCodeLine{118 }
\DoxyCodeLine{119     Iterator erase(Iterator pos) \{}
\DoxyCodeLine{120         \textcolor{keywordtype}{int} index = pos -\/ begin();}
\DoxyCodeLine{121         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = index; i < m\_size -\/ 1; i++)}
\DoxyCodeLine{122             std::swap(m\_elements[i], m\_elements[i + 1]);}
\DoxyCodeLine{123         resize(m\_size -\/ 1);}
\DoxyCodeLine{124         \textcolor{keywordflow}{return} begin() + index;}
\DoxyCodeLine{125     \}}
\DoxyCodeLine{126 }
\DoxyCodeLine{127     Iterator erase(Iterator first, Iterator last) \{}
\DoxyCodeLine{128         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = first; it != last; it++)}
\DoxyCodeLine{129             erase(it);}
\DoxyCodeLine{130         \textcolor{keywordflow}{return} last;}
\DoxyCodeLine{131     \}}
\DoxyCodeLine{132 }
\DoxyCodeLine{133     Iterator erase(T value) \{}
\DoxyCodeLine{134         \textcolor{keywordflow}{return} erase(find(value));}
\DoxyCodeLine{135     \}}
\DoxyCodeLine{136 }
\DoxyCodeLine{137     \textcolor{keywordtype}{size\_t} size() \{ \textcolor{keywordflow}{return} m\_size; \}}
\DoxyCodeLine{138 }
\DoxyCodeLine{139     \textcolor{keywordtype}{bool} empty() \{ \textcolor{keywordflow}{return} m\_size == 0; \}}
\DoxyCodeLine{140 }
\DoxyCodeLine{141     T \&operator[](\textcolor{keywordtype}{size\_t} i) \{ \textcolor{keywordflow}{return} m\_elements[i]; \}}
\DoxyCodeLine{142 }
\DoxyCodeLine{143     T \&operator[](\textcolor{keywordtype}{size\_t} i)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_elements[i]; \};}
\DoxyCodeLine{144 }
\DoxyCodeLine{145     \textcolor{comment}{// Copy}}
\DoxyCodeLine{146     \mbox{\hyperlink{class_my_vector}{MyVector}} \&operator=(\textcolor{keyword}{const} \mbox{\hyperlink{class_my_vector}{MyVector<T>}} \&other) \{}
\DoxyCodeLine{147         \textcolor{keywordflow}{if} (\textcolor{keyword}{this} == \&other)}
\DoxyCodeLine{148             \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{149 }
\DoxyCodeLine{150         resize(other.m\_size);}
\DoxyCodeLine{151         std::copy(other.m\_elements, other.m\_elements + other.m\_size, m\_elements);}
\DoxyCodeLine{152         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{153     \};}
\DoxyCodeLine{154 }
\DoxyCodeLine{155     \textcolor{comment}{// Move}}
\DoxyCodeLine{156     \mbox{\hyperlink{class_my_vector}{MyVector}} \&operator=(\mbox{\hyperlink{class_my_vector}{MyVector<T>}} \&\&other) \textcolor{keyword}{noexcept} \{}
\DoxyCodeLine{157         \textcolor{keywordflow}{if} (\textcolor{keyword}{this} == \&other)}
\DoxyCodeLine{158             \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{159 }
\DoxyCodeLine{160         \textcolor{keyword}{delete}[] m\_elements;}
\DoxyCodeLine{161         m\_elements = std::exchange(other.vector, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{162         m\_size = std::exchange(other.m\_size, 0);}
\DoxyCodeLine{163         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{164     \};}
\DoxyCodeLine{165 }
\DoxyCodeLine{166     \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} \mbox{\hyperlink{class_my_vector}{MyVector}} \&other)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{167         \textcolor{keywordflow}{if} (m\_size != other.m\_size)}
\DoxyCodeLine{168             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{169 }
\DoxyCodeLine{170         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_size; i++) \{}
\DoxyCodeLine{171             \textcolor{keywordflow}{if} (\textcolor{keyword}{this}[i] != other[i])}
\DoxyCodeLine{172                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{173         \}}
\DoxyCodeLine{174 }
\DoxyCodeLine{175         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{176     \};}
\DoxyCodeLine{177 }
\DoxyCodeLine{178     \textcolor{comment}{// -\/-\/-\/ Destructors -\/-\/-\/ ///}}
\DoxyCodeLine{179     \mbox{\hyperlink{class_my_vector}{\string~MyVector}}() \{}
\DoxyCodeLine{180         \textcolor{keyword}{delete}[] m\_elements;}
\DoxyCodeLine{181     \};}
\DoxyCodeLine{182 }
\DoxyCodeLine{183 \};}

\end{DoxyCode}
